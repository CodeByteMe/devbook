# Java最新2021年面试题大汇总，附答案







### 1、老年代

**1、** 主要存放应用程序中生命周期长的内存对象。

**2、** 老年代的对象比较稳定，所以 MajorGC 不会频繁执行。在进行 MajorGC 前一般都先进行了一次MinorGC，使得有新生代的对象晋身入老年代，导致空间不够用时才触发。当无法找到足够大的连续空间分配给新创建的较大对象时也会提前触发一次 MajorGC 进行垃圾回收腾出空间。

**3、** MajorGC 采用标记清除算法：首先扫描一次所有老年代，标记出存活的对象，然后回收没有标记的对象。ajorGC 的耗时比较长，因为要扫描再回收。MajorGC 会产生内存碎片，为了减少内存损耗，我们一般需要进行合并或者标记出来方便下次直接分配。当老年代也满了装不下的时候，就会抛出 OOM（Out of Memory）异常。


### 2、哪些是 GC Roots？

**1、** 在虚拟机栈（栈帧中的本地变量表）中引用的对象，譬如各个线程被调用的方法堆栈中使用到的参数、局部变量、临时变量等。

**2、** 在方法区中类静态属性引用的对象，譬如Java类的引用类型静态变量。

**3、** 在方法区中常量引用的对象，譬如字符串常量池（String Table）里的引用。

**4、** 在本地方法栈中JNI（即通常所说的Native方法）引用的对象。

**5、** Java虚拟机内部的引用，如基本数据类型对应的Class对象，一些常驻的异常对象（比如 NullPointExcepiton、OutOfMemoryError）等，还有系统类加载器。

**6、** 所有被同步锁（synchronized关键字）持有的对象。

**7、** 反映 Java 虚拟机内部情况的 JMXBean、JVMTI中注册的回调、本地代码缓存等。


### 3、接口和抽象类有什么区别？

实现：抽象类的子类使用 extends 来继承；接口必须使用 implements 来实现接口。 构造函数：抽象类可以有构造函数；接口不能有。 main 方法：抽象类可以有 main 方法，并且我们能运行它；接口不能有 main 方法。 实现数量：类可以实现很多个接口；但是只能继承一个抽象类。 访问修饰符：接口中的方法默认使用 public 修饰；抽象类中的方法可以是任意访问修饰符。


### 4、什么是集合

**1、** 集合就是一个放数据的容器，准确的说是放数据对象引用的容器

**2、** 集合类存放的都是对象的引用，而不是对象的本身

**3、** 集合类型主要有3种：set(集）、list(列表）和map(映射)。


### 5、什么时候用断言（assert）？



断言在软件开发中是一种常用的调试方式，很多开发语言中都支持这种机制。一般来说，断言用于保证程序最基本、关键的正确性。断言检查通常在开发和测试时开启。为了保证程序的执行效率，在软件发布后断言检查通常是关闭的。断言是一个包含布尔表达式的语句，在执行这个语句时假定该表达式为true；如果表达式的值为false，那么系统会报告一个AssertionError。断言的使用如下面的代码所示：

```
assert(a > 0); // throws an AssertionError if a <= 0
```

**断言可以有两种形式**：

**1、** assert Expression1;

**2、** assert Expression1 : Expression2 ;

Expression1 应该总是产生一个布尔值。

Expression2 可以是得出一个值的任意表达式；这个值用于生成显示更多调试信息的字符串消息。

要在运行时启用断言，可以在启动JVM时使用-enableassertions或者-ea标记。要在运行时选择禁用断言，可以在启动JVM时使用-da或者-disableassertions标记。要在系统类中启用或禁用断言，可使用-esa或-dsa标记。还可以在包的基础上启用或者禁用断言。

> 注意：断言不应该以任何方式改变程序的状态。简单的说，如果希望在不满足某些条件时阻止代码的执行，就可以考虑用断言来阻止它。



### 6、JDBC操作的步骤

**1、** 加载数据库驱动类

**2、** 打开数据库连接

**3、** 执行sql语句

**4、** 处理返回结果

**5、** 关闭资源


### 7、Sql优化有那些方法？

**1、** 表的设计要规范，即要符合数据库设计三范式。

**2、** 适当建立索引，在频繁作为检索条件，更新较少的字段上建立索引，以提高查询速度。

**3、** 分表查询，有水平分割、垂直分割。

**4、** 读写分离，读(read)、写(create、update、delete)。

**5、** 建立存储过程。


### 8、说说类加载的过程

加载 验证 准备（为一些类变量分配内存，并将其初始化为默认值） 解析（将符号引用替换为直接引用。类和接口、类方法、接口方法、字段等解析） 初始化


### 9、Java 中 sleep 方法和 wait 方法的区别？

虽然两者都是用来暂停当前运行的线程，但是 sleep() 实际上只是短暂停顿，因为它不会释放锁，而 wait() 意味着条件等待，这就是为什么该方法要释放锁，因为只有这样，其他等待的线程才能在满足条件时获取到该锁。


### 10、ThreadPoolExecutor饱和策略有哪些？

`如果当前同时运行的线程数量达到最大线程数量并且队列也已经被放满了任时，ThreadPoolTaskExecutor 定义一些策略:`

**1、** ThreadPoolExecutor.AbortPolicy：抛出 RejectedExecutionException来拒绝新任务的处理。

**2、** ThreadPoolExecutor.CallerRunsPolicy：调用执行自己的线程运行任务。您不会任务请求。但是这种策略会降低对于新任务提交速度，影响程序的整体性能。另外，这个策略喜欢增加队列容量。如果您的应用程序可以承受此延迟并且你不能任务丢弃任何一个任务请求的话，你可以选择这个策略。

**3、** ThreadPoolExecutor.DiscardPolicy：不处理新任务，直接丢弃掉。

**4、** ThreadPoolExecutor.DiscardOldestPolicy： 此策略将丢弃最早的未处理的任务请求。


### 11、CopyOnWriteArrayList可以用于什么应用场景？
### 12、JAVA软引用
### 13、程序计数器
### 14、String和StringBuilder、StringBuffer的区别？
### 15、说一下HashMap的实现原理？
### 16、为什么要使用并发编程
### 17、谈谈动态年龄判断
### 18、你如何在Java中获取线程堆栈？
### 19、Java中集合框架的有几个？
### 20、如何解析json对象？
### 21、Java中是如何支持正则表达式操作的？
### 22、List、Set、Map是否继承自Collection接口？
### 23、JAVA为什么需要接口？
### 24、多线程中 synchronized 锁升级的原理是什么？
### 25、多线程的常用方法
### 26、Files的常用方法都有哪些？
### 27、怎么确保一个集合不能被修改？
### 28、创建线程的有哪些方式？
### 29、集合和数组的区别
### 30、JVM有哪些内存区域？(JVM的内存布局是什么？)
### 31、Java 中，直接缓冲区与非直接缓冲器有什么区别？
### 32、JVM 类加载机制
### 33、分区收集算法
### 34、成员变量与局部变量的区别有那些？
### 35、什么是指令重排序？
### 36、怎么利用 JUnit 来测试一个方法的异常？
### 37、常用io类有那些？
### 38、如何创建一个json对象？
### 39、类加载的过程是什么？
### 40、异常的处理机制有几种？
### 41、有哪些 GC 算法？




## 全部答案，整理好了，直接下载吧

### 下载链接：[全部答案，整理好了](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin-2.png)




## 最新，高清PDF：172份，7701页，最新整理

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/mst.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")
